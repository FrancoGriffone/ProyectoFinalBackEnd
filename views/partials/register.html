<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulario de Ingreso</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
    integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
  <link rel="stylesheet" href="../estilos.css">
</head>

<body>
  <div class="container my-5">
    <div class="jumbotron">

      <h1>REGISTRO</h1>
      <br>
      <form class="form" action="/register" method="post" role="form" autocomplete="off" id="form">

        <div class="form-group">
          <input id="username" name='username' placeholder="Usuario" class="form-control" type="text" required>
        </div>

        <div class="form-group">
          <input id="email" name='email' placeholder="Email" class="form-control" type="email" required>
        </div>

        <div class="form-group">
          <input id="password" name='password' placeholder="Contraseña" class="form-control" type="password" required>
        </div>

        <div class="form-group">
          <input id="password2" name='password2' placeholder="Repite tu contraseña" class="form-control" type="password"
            required>
          <p id="activo" class="d-none">Las contraseñas deben coincidir</p>
        </div>

        <div class="form-group">
          <input id="telefono" name='telefono' placeholder="Teléfono" class="form-control" type="number" required>
        </div>

        <div class="form-group">
          <input id="address" name='address' placeholder="Direccion completa (ej: Juan Peréz 123 dpto 1A)"
            class="form-control" type="text" required>
        </div>

        <div class="form-group">
          <input class="btn btn-success my-3" type="submit" value="Registrar">
        </div>
      </form>

      <hr>

      <div class="text-left">
        <button class="btn btn-success my-3" onclick="location.href = '/login'">Ir a Login</button>
      </div>

    </div>
  </div>

</body>
<script>
  const p = document.getElementById("activo")
  let input1 = document.getElementById("password")
  let input2 = document.getElementById("password2")
  function validarContraseña() {
    if (input1.value === input2.value) {
      p.classList.add("d-none")
      console.log("Las contraseñas iguales")
    } else {
      p.classList.remove("d-none")
      console.log("Las contraseñas son distintas")
    }
  }

  input2.addEventListener("blur", function () {
    validarContraseña()
  })
  input2.addEventListener("focus", function () {
    validarContraseña()
  });
  document.getElementById("form").addEventListener("submit", (e) => {
    e.preventDefault()

    if (input1.value === input2.value) {
      p.classList.add("d-none")
      console.log("Las contraseñas iguales")
    } else {
      p.classList.remove("d-none")
      console.log("Las contraseñas son distintas")
    }
  })
</script>

</html>